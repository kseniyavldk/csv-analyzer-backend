<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CSV Analyzer</title>
    <style>
        body {
          font-family: Arial, sans-serif;
          max-width: 600px;
          margin: 60px auto;
          padding: 20px;
          border-radius: 10px;
          background: #f7f7f7;
          box-shadow: 0 2px 8px rgba(0,0,0,0.1);
          text-align: center;
        }
        input[type="file"] {
          margin: 20px 0;
        }
        pre {
          text-align: left;
          background: #fff;
          padding: 15px;
          border-radius: 8px;
          overflow-x: auto;
        }
    </style>
</head>
<body>
<h1>ðŸ“Š CSV Analyzer</h1>
<form id="uploadForm">
    <input type="file" id="fileInput" name="file" accept=".csv" required />
    <br/>
    <button type="submit">Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ</button>
</form>
<div id="result"></div>

<script>
    document.getElementById('uploadForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      const file = document.getElementById('fileInput').files[0];
      if (!file) return;

      const formData = new FormData();
      formData.append('file', file);

      const response = await fetch('/api/upload', {
        method: 'POST',
        body: formData
      });

      const resultDiv = document.getElementById('result');
      if (response.ok) {
        const data = await response.json();
        resultDiv.innerHTML = `<h3>âœ… Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ Ð°Ð½Ð°Ð»Ð¸Ð·Ð°:</h3><pre>${JSON.stringify(data, null, 2)}</pre>`;
      } else {
        resultDiv.innerHTML = `<p style="color:red;">ÐžÑˆÐ¸Ð±ÐºÐ°: ${response.status}</p>`;
      }
    });
</script>
</body>
</html>
